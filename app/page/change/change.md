# What's The Next 

这几天看到几则咨询,和大家分享一下:

1. 微信小程序丨当然本人也自己玩了一下小程序，发现的确是挺好玩的。
2. IE/chrome
3. NPM上 已经接近4w个了

web技术诞生已久,但是前端也是最近俩三年火起来的, 这是个最好的时代也是最坏的时代  
好的是越来越多团队,公司将前端重视起来. 也来也多的项目采用新的技术, 选择node作为服务平台  
坏的是标准还未完全统一, 要学的东西也是无穷无尽, 面临的选择也是五花八门

现在,前端开发不只是做一些简单的页面, 不是简单的GUI客户端. 而是一种服务, 一种连接.   
我们连接视觉界面,UI交互,各类数据,业务逻辑等等一切可以连接的提供,给客户,给公司,给团队最佳的服务  
给客户提供的是满足其欲望的功能点，是刺激眼球的交互体验 
给团队提供的是各种解决方案的封装，各种可定制化的组件,功能模块来快速开发 
给公司的的是快速开发，稳定可维护可拓展的代码 
以上这些都是服务

我不知道海军那边想要实现的 前端提供服务的理念和我是否一样， 不一样的地方算是一种补充吧

**echarts**

但我今天要讲的并不是关于技术原理,具体实现. 而是想透过这个谈谈在这个技术不断发展的时代，我们作为一个IT从业者，一个前端开发该如何抉择，又该何去何从。  
从事前端这个行业俩年多了, 算是一个刚刚入门的小菜鸟吧, 现在的我每天还是不断地在学习.  
现在还依稀记得当初刚刚参加工作的时候，啥都不用考虑，因为那个时候的自己真的啥都不会，虽然现在会的东西也很少，但是最起码是可以去做选择了。  
而当你可以对技术，对框架做选择的时候，你就会去想，该选择哪一种技术当成以后自己发展的重心。而伴随着新技术不断的更新换代，对于技术的选择也开始朦胧起来。  
就拿我自己前端技能get点来说，学习了angular,jQuery,vue,node,express等等这些目前比较流行的前端框架，感受还是JavaScript最重要。  
但有时候真的没有必要为了学习框架而学习框架，JavaScript作为开发这些前端框架的基础语言(当然这里node也依赖C/C++)，  
只有将它的基础打扎实了，那些框架学习起来会是如鱼得水。然后慢慢延伸到app,wechat,server端  
很多时候，选择框架是为了公司项目开发的需求，但是当公司开发的项目需要用到一个新技术的时候你再去学习，那个时候就有点晚了，因此我们要时刻关注着新技术。  
但关注新技术的同时千万不要忘了自己的本心，不要忘了自己最初的起点，千万不能本末倒置。  

OK，稍微有点偏题了，回归主题！首先这里我先带大家过一遍Web开发模式演变历史。

### 阶段一：简单明快的早期时代

可称之为 Web 1.0 时代，非常适合创业型小项目，不分前后端，经常 3-5 人搞定所有开发。页面由 JSP、PHP 等工程师在服务端生成，浏览器负责展现。
基本上是服务端给什么浏览器就展现什么，展现的控制在 Web Server 层。

### 阶段二：后端为主的 MVC 时代

代码可维护性得到明显好转，MVC 是个非常好的协作模式，从架构层面让开发者懂得什么代码应该写在什么地方。
为了让 View 层更简单干脆，还可以选择 Velocity、Freemaker 等模板，使得模板里写不了 Java 代码。看起来是功能变弱了，但正是这种限制使得前后端分工更清晰。

### 阶段三：Ajax 带来的 SPA 时代

这种模式下，前后端的分工非常清晰，前后端的关键协作点是 Ajax 接口。看起来是如此美妙，但回过头来看看的话，这与 JSP 时代区别不大。
复杂度从服务端的 JSP 里移到了浏览器的 JavaScript，浏览器端变得很复杂。

### 阶段四：前端为主的 MV* 时代

这种开发模式下，优点也很明显：

* 1、前后端职责很清晰。前端工作在浏览器端，后端工作在服务端。清晰的分工，可以让开发并行，测试数据的模拟不难，前端可以本地开发。后端则可以专注于业务逻辑的处理，输出 RESTful 等接口。
* 2、前端开发的复杂度可控。前端代码很重，但合理的分层，让前端代码能各司其职。这一块蛮有意思的，简单如模板特性的选择，就有很多很多讲究。并非越强大越好，限制什么，留下哪些自由，代码应该如何组织，所有这一切设计，得花一本的厚度去说明。
* 3、部署相对独立，产品体验可以快速改进。

### 阶段五：Node 带来的全栈时代

在这种研发模式下，前后端的职责很清晰。对前端来说，两个 UI 层各司其职：

* 1、Front-end UI layer 处理浏览器层的展现逻辑。通过 CSS 渲染样式，通过 JavaScript 添加交互功能，HTML 的生成也可以放在这层，具体看应用场景。
* 2、Back-end UI layer 处理路由、模板、数据获取、cookie 等。通过路由，前端终于可以自主把控 URL Design，这样无论是单页面应用还是多页面应用，前端都可以自由调控。后端也终于可以摆脱对展现的强关注，转而可以专心于业务逻辑层的开发。
* 3、通过 Node，Web Server 层也是 JavaScript 代码，这意味着部分代码可前后复用，需要 SEO 的场景可以在服务端同步渲染，由于异步请求太多导致的性能问题也可以通过服务端来缓解。前一种模式的不足，通过这种模式几乎都能完美解决掉。
* 4、与 JSP 模式相比，全栈模式看起来是一种回归，也的确是一种向原始开发模式的回归，不过是一种螺旋上升式的回归。

总结：上诉的所有web开发模式的演变，都证明了一点事实，那就是web前端越来越被外界重视。从给前端带来第一次质的飞跃的Ajax，再到如今可能给其带来第二次质变的NODE。种种现象表明，前端这条路还是值得走下去的。至于怎么走，我们还是应该将基础打扎实，别去为了那些新技术，新框架老让自己如此迷茫。我们应该抱着一种干净纯粹的心去学习它，去拥有它，我们该做的真的只是为了不让自己的人生后悔，让自己开开心心的过每一天。

### 四、制定自己的前端学习路线


### 我们为什么推崇前后端分离模式

‌套模板为什么不好, 不论是jsp,php,asp.  
不给解决就吐槽的行为是可耻的. 这里讨论不分离带来的问题  
当然不是所有的项目,产品都应该分离  
**(讨论)**

|类型|问题|
|---|---|
|开发|‌大量的dom节点操作|
|‌开发|代码太多太杂太乱，代码容易冲突,尤其多人开发的时候|
|开发|‌无法用正常的编辑器/IDE, IDE带来的快速格式化,代码高亮,函数调整等等功能常常无法使用|
|性能|套页面无法深度优化,前端各式各样的构建工具无法展开拳脚|‌
|性能|‌无法性能优化|
|团队|‌责任不清晰,人员沟通成本|
|团队|俩套代码管理,‌代码不可把控,前端改后端嵌套的页面,后端改前端样式页面结构|
|团队|‌套模板,比较时间长;后端要理解前端写的js函数,页面结构,ui样式;往往这些都是配套使用的,‌‌js功能代码不会用,自己写|
|维护|维护时间比开发长,下载代码,搭建本地服务器, 而且改的代码不能立刻看见|
|维护|像微信调用,调用app函数,必须等待发布上线|



#### 前后端分离模式的好处 

**(提问)**

首先搞明白,前端不仅仅是html5, 还有ios,android,windows等和客户打交道的GUI软件,它是个客户端  
后端可以是node,php,java等等,它提供数据服务,是个服务器  

对前端而言,代码能自己把控,选我们都能很好的处理交互,不论谁提供服务,提供接口,  
对后端而言,不论前端是一个还是多个, 只要相同的逻辑, 同一套机制, 提供给前端一套标准稳定的api  
对总体而言,减少沟通成本,降低人员依赖,减少时序依赖,各模块各功能互相解耦, 提高程序可维护性,可拓展性,快速开发  

如何保证服务器稳定安全,如何操作数据库,各种算法验证器,提供高质量api等服务是后端擅长的;  
如何组织前端代码,开发高性能/可维护/可拓展,微交互,极致用户体验的,是前端擅长的  
我们要取长补短,不能本末倒置. 不然等待我们的是无穷无尽的bug, 改一个bug引出十个bug, 甚至找不出问题所在.   
最后就会互相吐槽,互相推诿, 但这解决不了问题

‌写js是我们份内的工作, 后端工程师往往写不好,因为术业有专攻  
另外,不论是ios,android,php,java. 各程序之间只有数据是互通的,用接口说话  

#### 前后端分离,实现步骤

‌view modal controller server data

1. view | view‌权, 页面模板, UI交互  
2. ‌modal | 抢夺vm控制器  
    * ios，sdk页面技术栈  
    * ‌过渡阶段: (前端，php，java都有这么一个阶段，公司都要过渡)  
    * ‌页面dom操作权(现阶段), 自身能量提升，数据驱动一切  
3. ‌controller | 数据交互权(3个js工程师),json交互  
4. ‌router | 页面路由权(3个js工程师),驾驭了一套框架，完整开发过一个线上项目  
5. server | 服务器中间层（2个node工程师），安全问题，服务器开发经验，能解决常用登录，注册，上传问题
6. ‌data | 服务器权,数据库权(2个node工程师,1全栈) 

本来设想,我们可以一步步来,不过很遗憾的告诉大家,以上构想是行不通的,必须一步到位,起码到页面路由这步,  
也就是说在我们能独立完成view,modal,controller而且管理页面状态,页面路由之前,前后端分离还不彻底  
经过这次经纪通-奖金小系统的实验, 我们必须一步到位, 为什么? **(提问)**

有什么问题?
* 页面传参
* 页面路由控制
* 资源路径
* 俩套代码,无法深度优化

话外音:
我在这里抛砖引玉，呼吁大家学一学nodejs开发，这样才能彻底搞明白文件上传，微信调用，签名，http知识，web安全等等问题。这些问题都是需要前后端共同解决的  
而不是只明白图片上传，单向解决问题  
演示微信操作，关注公众号，调用接口  
最大的问题：前后端没有紧密配合，没有发现根本问题，所以就没有解决方案    

这是一场变革也是一场战争, 这次革命的发起者和被挑战者都是自己.   
我们要紧随未来WEB发展方向.   
我们要挑战自己以前所认知的一切.  
我们要挑战你组织的一切,这句话出自召唤师峡谷-天启者 
在这里,不求每个人都是全栈, 但必须有一个研究方向. 一个学习目标  
海军帮我们顶住了来自各方的压力,各种的质疑;   
我们要上呀,不上也得上  

### 未来方向

他们前端什么都想做. 是的,这是我们未来努力的方向
pc端我们不管, 在移动端，从ui样式，页面模板，数据交互，页面路由，自动化部署，测试维护.我们都要拿下
**xmind**